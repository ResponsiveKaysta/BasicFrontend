"use strict";!function(n){function r(n,t,i){return"string"==typeof n&&("%"==n.slice(-1)?n=parseInt(n.substring(0,n.length-1))/100*t:"vh"==n.slice(-2)?n=parseInt(n.substring(0,n.length-2))/100*i:"px"==n.slice(-2)&&(n=parseInt(n.substring(0,n.length-2)))),n}var t=n(window),u=1,i={};t.on("scroll",function(){var r=t.scrollTop();n.map(i,function(n){window.clearTimeout(n.timeoutId);n.timeoutId=window.setTimeout(function(){n.handler(r)},n.options.delay)})}).on("load",function(){t.trigger("scroll")});jQuery.fn.scrollex=function(f){var e=n(this),h,c,l,o,a,s;if(0==this.length)return e;if(this.length>1){for(h=0;h<this.length;h++)n(this[h]).scrollex(f);return e}if(e.data("_scrollexId"))return e;switch(c=u++,l=jQuery.extend({top:0,bottom:0,delay:0,mode:"default",enter:null,leave:null,initialize:null,terminate:null,scroll:null},f),l.mode){case"top":o=function(n,t,i,r,u){return n>=r&&u>=n};break;case"bottom":o=function(n,t,i,r,u){return i>=r&&u>=i};break;case"middle":o=function(n,t,i,r,u){return t>=r&&u>=t};break;case"top-only":o=function(n,t,i,r){return r>=n&&i>=r};break;case"bottom-only":o=function(n,t,i,r,u){return i>=u&&u>=n};break;default:case"default":o=function(n,t,i,r,u){return i>=r&&u>=n}}return a=function(n){var i,o,h,u,f,s,l=this.state,e=!1,c=this.$element.offset();i=t.height();o=n+i/2;h=n+i;u=this.$element.outerHeight();f=c.top+r(this.options.top,u,i);s=c.top+u-r(this.options.bottom,u,i);e=this.test(n,o,h,f,s);e!=l&&(this.state=e,e?this.options.enter&&this.options.enter.apply(this.element):this.options.leave&&this.options.leave.apply(this.element));this.options.scroll&&this.options.scroll.apply(this.element,[(o-f)/(s-f)])},s={id:c,options:l,test:o,handler:a,state:null,element:this,$element:e,timeoutId:null},i[c]=s,e.data("_scrollexId",s.id),s.options.initialize&&s.options.initialize.apply(this),e};jQuery.fn.unscrollex=function(){var t=n(this),r,f,u;if(0==this.length)return t;if(this.length>1){for(r=0;r<this.length;r++)n(this[r]).unscrollex();return t}return(f=t.data("_scrollexId"))?(u=i[f],window.clearTimeout(u.timeoutId),delete i[f],t.removeData("_scrollexId"),u.options.terminate&&u.options.terminate.apply(this),t):t}}(jQuery);